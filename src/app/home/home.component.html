<div id="home-wrapper">
  <h1 id="home-title">Welcome back {{me.userName}}</h1>
  <div id="home-table-wrapper" class="mat-elevation-z8">
    <div style="height: 100%; position: relative; display: flex; flex-direction: column;">
      <table id="home-table" mat-table [dataSource]="folder">

        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef class="home-table-head"> Title </th>
          <td mat-cell *matCellDef="let element"> {{element.title}} </td>
        </ng-container>


        <ng-container matColumnDef="owner">
          <th mat-header-cell *matHeaderCellDef class="home-table-head"> Owner </th>
          <td mat-cell *matCellDef="let element"> {{element.owner.userName + ' (' + element.owner.email + ')'}} </td>
        </ng-container>

        <ng-container matColumnDef="viewAccess">
          <th mat-header-cell *matHeaderCellDef class="home-table-head"> View Access </th>
          <td mat-cell *matCellDef="let element">
            <div class="access-wrapper">
              <p *ngIf="!element.writeAccess" class="home-alt-text">Nicht freigegeben</p>
              <p *ngFor="let access of element.viewAccess">{{access.userName}}</p>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="writeAccess">
          <th mat-header-cell *matHeaderCellDef class="home-table-head">Write Access </th>
          <td mat-cell *matCellDef="let element">
            <div class="access-wrapper">
              <p *ngIf="!element.writeAccess" class="home-alt-text">Nicht freigegeben</p>
              <p *ngFor="let access of element.writeAccess">{{access.userName}}</p>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row [style.background-color]="i === selectedRow ? 'rgb(237, 246, 246)' : null" (contextmenu)="openContextMenu($event, i)"
          *matRowDef="let row;let i = index; columns: displayedColumns;" (click)="select(i)" class="home-table-row">
        </tr>
      </table>
      <div style="height: 100%;" (contextmenu)="openContextMenu($event, -1)"></div>
    </div>
    <mat-paginator id="paginator-options" pageSize="15" showFirstLastButtons
      aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
</div>
<app-home-menu (delete)="openDeleteDialog(selectedRow)" (close)="selectedRow = -1" [selectedFolder]="selectedRow >= 0" [open]="eventsSubject" id="home-menu"
  [style.top]="menuPosition.y + 'px'" [style.left]="menuPosition.x + 'px'" style="position: absolute;"></app-home-menu>
